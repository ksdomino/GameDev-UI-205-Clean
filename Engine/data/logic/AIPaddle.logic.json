{
  "_context": "Engine/llms.txt",
  "_description": "AI paddle logic - tracks ball with difficulty factor",
  "actorId": "AIPaddle",
  "description": "AI paddle moves toward ball X position with configurable reaction speed.",
  "nodes": [
    {
      "id": "var_speed",
      "type": "variable",
      "subtype": "GetVariable",
      "position": { "x": 50, "y": 50 },
      "outputs": [{ "id": "value", "type": "number", "label": "speed" }],
      "properties": { "variableName": "speed", "defaultValue": 450 }
    },
    {
      "id": "var_difficulty",
      "type": "variable",
      "subtype": "GetVariable",
      "position": { "x": 50, "y": 120 },
      "outputs": [{ "id": "value", "type": "number", "label": "difficulty" }],
      "properties": { "variableName": "difficulty", "defaultValue": 0.7 }
    },
    {
      "id": "var_minX",
      "type": "variable",
      "subtype": "GetVariable",
      "position": { "x": 50, "y": 190 },
      "outputs": [{ "id": "value", "type": "number", "label": "minX" }],
      "properties": { "variableName": "minX", "defaultValue": 100 }
    },
    {
      "id": "var_maxX",
      "type": "variable",
      "subtype": "GetVariable",
      "position": { "x": 50, "y": 260 },
      "outputs": [{ "id": "value", "type": "number", "label": "maxX" }],
      "properties": { "variableName": "maxX", "defaultValue": 980 }
    },
    {
      "id": "e_update",
      "type": "event",
      "subtype": "OnUpdate",
      "position": { "x": 280, "y": 50 },
      "outputs": [{ "id": "exec", "type": "execution" }, { "id": "deltaTime", "type": "number" }]
    },
    {
      "id": "a_get_ball",
      "type": "action",
      "subtype": "GetActorPosition",
      "position": { "x": 450, "y": 50 },
      "inputs": [{ "id": "exec", "type": "execution" }],
      "outputs": [{ "id": "exec", "type": "execution" }, { "id": "x", "type": "number" }, { "id": "y", "type": "number" }],
      "properties": { "actorId": "Ball" }
    },
    {
      "id": "a_get_self",
      "type": "action",
      "subtype": "GetPosition",
      "position": { "x": 450, "y": 150 },
      "inputs": [{ "id": "exec", "type": "execution" }],
      "outputs": [{ "id": "x", "type": "number" }, { "id": "y", "type": "number" }]
    },
    {
      "id": "l_diff",
      "type": "logic",
      "subtype": "Subtract",
      "position": { "x": 620, "y": 50 },
      "inputs": [{ "id": "a", "type": "number" }, { "id": "b", "type": "number" }],
      "outputs": [{ "id": "result", "type": "number" }],
      "properties": { "description": "ballX - paddleX" }
    },
    {
      "id": "l_direction",
      "type": "logic",
      "subtype": "Sign",
      "position": { "x": 790, "y": 50 },
      "inputs": [{ "id": "value", "type": "number" }],
      "outputs": [{ "id": "result", "type": "number" }],
      "properties": { "description": "-1, 0, or 1" }
    },
    {
      "id": "l_move_amount",
      "type": "logic",
      "subtype": "Multiply",
      "position": { "x": 960, "y": 50 },
      "inputs": [{ "id": "a", "type": "number" }, { "id": "b", "type": "number" }, { "id": "c", "type": "number" }, { "id": "d", "type": "number" }],
      "outputs": [{ "id": "result", "type": "number" }],
      "properties": { "description": "direction * speed * difficulty * deltaTime" }
    },
    {
      "id": "a_get_current_x",
      "type": "action",
      "subtype": "GetVariable",
      "position": { "x": 1130, "y": 50 },
      "inputs": [{ "id": "exec", "type": "execution" }],
      "outputs": [{ "id": "value", "type": "number" }],
      "properties": { "variableName": "positionX" }
    },
    {
      "id": "l_new_x",
      "type": "logic",
      "subtype": "Add",
      "position": { "x": 1300, "y": 50 },
      "inputs": [{ "id": "a", "type": "number" }, { "id": "b", "type": "number" }],
      "outputs": [{ "id": "result", "type": "number" }]
    },
    {
      "id": "l_clamp",
      "type": "logic",
      "subtype": "Clamp",
      "position": { "x": 1470, "y": 50 },
      "inputs": [{ "id": "value", "type": "number" }, { "id": "min", "type": "number" }, { "id": "max", "type": "number" }],
      "outputs": [{ "id": "result", "type": "number" }]
    },
    {
      "id": "a_set_pos",
      "type": "action",
      "subtype": "SetPosition",
      "position": { "x": 1640, "y": 50 },
      "inputs": [{ "id": "exec", "type": "execution" }, { "id": "x", "type": "number" }],
      "properties": { "keepY": true }
    }
  ],
  "connections": [
    { "id": "c1", "from": { "nodeId": "e_update", "outputId": "exec" }, "to": { "nodeId": "a_get_ball", "inputId": "exec" } },
    { "id": "c2", "from": { "nodeId": "a_get_ball", "outputId": "x" }, "to": { "nodeId": "l_diff", "inputId": "a" } },
    { "id": "c3", "from": { "nodeId": "a_get_self", "outputId": "x" }, "to": { "nodeId": "l_diff", "inputId": "b" } },
    { "id": "c4", "from": { "nodeId": "l_diff", "outputId": "result" }, "to": { "nodeId": "l_direction", "inputId": "value" } },
    { "id": "c5", "from": { "nodeId": "l_direction", "outputId": "result" }, "to": { "nodeId": "l_move_amount", "inputId": "a" } },
    { "id": "c6", "from": { "nodeId": "var_speed", "outputId": "value" }, "to": { "nodeId": "l_move_amount", "inputId": "b" } },
    { "id": "c7", "from": { "nodeId": "var_difficulty", "outputId": "value" }, "to": { "nodeId": "l_move_amount", "inputId": "c" } },
    { "id": "c8", "from": { "nodeId": "e_update", "outputId": "deltaTime" }, "to": { "nodeId": "l_move_amount", "inputId": "d" } },
    { "id": "c9", "from": { "nodeId": "a_get_current_x", "outputId": "value" }, "to": { "nodeId": "l_new_x", "inputId": "a" } },
    { "id": "c10", "from": { "nodeId": "l_move_amount", "outputId": "result" }, "to": { "nodeId": "l_new_x", "inputId": "b" } },
    { "id": "c11", "from": { "nodeId": "l_new_x", "outputId": "result" }, "to": { "nodeId": "l_clamp", "inputId": "value" } },
    { "id": "c12", "from": { "nodeId": "var_minX", "outputId": "value" }, "to": { "nodeId": "l_clamp", "inputId": "min" } },
    { "id": "c13", "from": { "nodeId": "var_maxX", "outputId": "value" }, "to": { "nodeId": "l_clamp", "inputId": "max" } },
    { "id": "c14", "from": { "nodeId": "l_clamp", "outputId": "result" }, "to": { "nodeId": "a_set_pos", "inputId": "x" } },
    { "id": "c15", "from": { "nodeId": "a_get_ball", "outputId": "exec" }, "to": { "nodeId": "a_set_pos", "inputId": "exec" } }
  ]
}
